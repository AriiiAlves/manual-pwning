"use strict";(globalThis.webpackChunkmanual_pwning_docs=globalThis.webpackChunkmanual_pwning_docs||[]).push([[8055],{270(e,n,r){r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>m,frontMatter:()=>t,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"pwning/integer-overflow","title":"Integer Overflow","description":"Cada vari\xe1vel possui um tamanho limite no c\xf3digo. Um inteiro, em geral, suporta 4 bytes, com range de -2,147,483,648 a 2,147,483,647.","source":"@site/docs/pwning/5-integer-overflow.md","sourceDirName":"pwning","slug":"/pwning/integer-overflow","permalink":"/manual-pwning/docs/pwning/integer-overflow","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":8,"frontMatter":{"title":"Integer Overflow","sidebar_position":8},"sidebar":"tutorialSidebar","previous":{"title":"Array indexing","permalink":"/manual-pwning/docs/pwning/array-indexing"},"next":{"title":"Bad Seed","permalink":"/manual-pwning/docs/pwning/bad-seed"}}');var i=r(4848),a=r(8453);const t={title:"Integer Overflow",sidebar_position:8},s=void 0,d={},c=[{value:"Exemplo",id:"exemplo",level:2}];function l(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Cada vari\xe1vel possui um tamanho limite no c\xf3digo. Um inteiro, em geral, suporta 4 bytes, com range de ",(0,i.jsx)(n.code,{children:"-2,147,483,648 a 2,147,483,647."})]}),"\n",(0,i.jsxs)(n.p,{children:["Se for ",(0,i.jsx)(n.code,{children:"unsigned int"})," (sem negativos), temos um range de ",(0,i.jsx)(n.code,{children:"0 a 4,294,967,295"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Se somarmos 1 a um n\xfamero m\xe1ximo, temos um overflow:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-c",children:'int a = 2147483647; // Inteiro com valor m\xe1ximo\r\n    printf("%d\\n", a); // 2147483647\r\n    \r\n    a += 1;\r\n    printf("%d", a); // -2147483648\n'})}),"\n",(0,i.jsx)(n.p,{children:'Isso mostra que, se uma vari\xe1vel tiver seu tamanho m\xe1ximo atingido, ela simplesmente volta "do outro lado", como se tivesse passado por um portal.'}),"\n",(0,i.jsx)(n.p,{children:"Do mesmo modo, podemos ter um underflow:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-c",children:'int a = -2147483648; // Inteiro com valor m\xednimo\r\n    printf("%d\\n", a); // -2147483648\r\n    \r\n    a -= 1;\r\n    printf("%d", a); // 2147483647\n'})}),"\n",(0,i.jsx)(n.p,{children:"Por que isso acontece? Vamos ver como as coisas est\xe3o armazenadas na mem\xf3ria (lembrando, 8 bits = 1 byte):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"2147483647 decimal = 0x7FFFFFFF em hex = bin\xe1rio:\r\n0111 1111 1111 1111 1111 1111 1111 1111\r\n\u2191\r\nBit de sinal (0 = positivo)\n"})}),"\n",(0,i.jsx)(n.p,{children:"Ao somar 1:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Antes:  0111 1111 1111 1111 1111 1111 1111 1111  = 2147483647\r\nSomar 1: 1000 0000 0000 0000 0000 0000 0000 0000  = -2147483648\n"})}),"\n",(0,i.jsx)(n.h2,{id:"exemplo",children:"Exemplo"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-c",children:'int array[10];\r\nint index;\r\n\r\nprintf("\xcdndice: ");\r\nscanf("%d", &index);\r\n\r\n// Verifica\xe7\xe3o contra overflow positivo\r\nif(index < 10){\r\n    // MAS e se index for NEGATIVO e GRANDE?\r\n    int offset = index * sizeof(int);  // index muito negativo \u2192 overflow para positivo!\r\n    printf("%d", array[offset]); // Acesso arbitr\xe1rio a depois do array\r\n}\n'})})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453(e,n,r){r.d(n,{R:()=>t,x:()=>s});var o=r(6540);const i={},a=o.createContext(i);function t(e){const n=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);